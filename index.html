<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta content="dark light" name="color-scheme">
    <meta content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport">
    <script async noshim src="https://polyfill.io/v3/polyfill.min.js?features=globalThis"></script>
    <style>
        :root {
            font-family: Helvetica, sans-serif;
        }
    </style>

    <!-- Generated by @jspm/generator - https://github.com/jspm/generator -->
    <script async crossorigin="anonymous"
            src="https://ga.jspm.io/npm:es-module-shims@1.5.6/dist/es-module-shims.js"></script>
    <script type="importmap-shim">
{
  "imports": {
    "#db": "/lib/db/client.mjs",
    "#lib/": "/lib/",
    "#lib/loader.mjs": "/lib/loader.mjs",
    "#root/": "/",
    "#root/components/app-page.mjs": "/components/app-page.mjs",
    "#root/components/import-test.mjs": "/components/import-test.mjs",
    "#utils": "/lib/utils.mjs",
    "@webcomponents/template-shadowroot": "https://ga.jspm.io/npm:@webcomponents/template-shadowroot@0.1.0/template-shadowroot.js",
    "fetched-list": "https://ga.jspm.io/npm:fetched-list@0.0.5/index.mjs",
    "lit/experimental-hydrate-support.js": "https://ga.jspm.io/npm:lit@2.2.5/experimental-hydrate-support.js"
  },
  "scopes": {
    "/": {
      "#lib/context.mjs": "/lib/context.mjs",
      "#lib/directives.mjs": "/lib/directives.mjs",
      "#lib/router.mjs": "/lib/router.mjs",
      "#lib/template.mjs": "/lib/template.mjs",
      "#lib/utils.mjs": "/lib/utils.mjs",
      "@svalit/ssr-client/directives/server-until.js": "https://ga.jspm.io/npm:@svalit/ssr-client@1.0.0-rc.2/development/directives/server-until.js",
      "bson-objectid": "https://ga.jspm.io/npm:bson-objectid@2.0.3/objectid.js",
      "fs/promises": "https://ga.jspm.io/npm:@jspm/core@2.0.0-beta.24/nodelibs/browser/fs/promises.js",
      "lit": "https://ga.jspm.io/npm:lit@2.2.5/index.js",
      "lit/directives/repeat.js": "https://ga.jspm.io/npm:lit@2.2.5/directives/repeat.js",
      "lit/directives/unsafe-html.js": "https://ga.jspm.io/npm:lit@2.2.5/directives/unsafe-html.js",
      "lit/directives/until.js": "https://ga.jspm.io/npm:lit@2.2.5/directives/until.js"
    },
    "https://ga.jspm.io/": {
      "@lit/reactive-element": "https://ga.jspm.io/npm:@lit/reactive-element@1.3.2/development/reactive-element.js",
      "lit-element/experimental-hydrate-support.js": "https://ga.jspm.io/npm:lit-element@3.2.0/development/experimental-hydrate-support.js",
      "lit-element/lit-element.js": "https://ga.jspm.io/npm:lit-element@3.2.0/development/lit-element.js",
      "lit-html": "https://ga.jspm.io/npm:lit-html@2.2.5/development/lit-html.js",
      "lit-html/directive-helpers.js": "https://ga.jspm.io/npm:@svalit/lit-html@2.0.0-rc.4/development/directive-helpers.js",
      "lit-html/directive.js": "https://ga.jspm.io/npm:@svalit/lit-html@2.0.0-rc.4/development/directive.js",
      "lit-html/directives/repeat.js": "https://ga.jspm.io/npm:lit-html@2.2.5/development/directives/repeat.js",
      "lit-html/directives/unsafe-html.js": "https://ga.jspm.io/npm:lit-html@2.2.5/development/directives/unsafe-html.js",
      "lit-html/directives/until.js": "https://ga.jspm.io/npm:@svalit/lit-html@2.0.0-rc.4/development/directives/until.js",
      "lit-html/experimental-hydrate.js": "https://ga.jspm.io/npm:lit-html@2.2.5/development/experimental-hydrate.js",
      "lit/directive-helpers.js": "https://ga.jspm.io/npm:@svalit/lit@2.0.0-rc.3/directive-helpers.js",
      "lit/directive.js": "https://ga.jspm.io/npm:@svalit/lit@2.0.0-rc.3/directive.js",
      "lit/directives/until.js": "https://ga.jspm.io/npm:@svalit/lit@2.0.0-rc.3/directives/until.js",
      "process": "https://ga.jspm.io/npm:@jspm/core@2.0.0-beta.24/nodelibs/browser/process.js"
    },
    "https://ga.jspm.io/npm:lit@2.2.5/": {
      "lit-html/directives/until.js": "https://ga.jspm.io/npm:lit-html@2.2.5/development/directives/until.js"
    }
  }
}

    </script>
    <title>Index page</title>
</head>
<body><!--lit-part ba1U35K96Cs=-->
<app-page url="http://localhost/"><!--lit-node 0-->
    <template shadowroot="open"><!--lit-part vWYE/Ttqbr4=-->
        <context-node defer-hydration><!--lit-node 0-->
            <template shadowroot="open"><!--lit-part nqwtjFrQS9g=-->
                <script type="application/json">{
                    "_id": "623ecff0d85d6ddddeb42f14",
                    "path": "index",
                    "title": "Index page",
                    "description": "Index root page 🌚",
                    "content": "<h1><app-field key=\"title\"></app-field></h1><p><app-field key=\"description\"></app-field></p>"
                }</script>
                <slot></slot><!--/lit-part--></template>
            <!--lit-part rNrkYSgXpRg=-->
            <main><!--lit-part eZmT5ZAlHVU=-->
                <app-context defer-hydration><!--lit-node 0-->
                    <template shadowroot="open">
                        <style>
                            app-iterator {
                                display: flex;
                                flex-direction: column;
                            }

                            app-iterator::part(item) {
                                margin: .5em 0;
                            }

                            app-iterator::part(item first) {
                                margin-top: initial;
                            }

                            app-iterator::part(item last) {
                                margin-bottom: initial;
                            }
                        </style><!--lit-part GeI8dyDK/80=-->
                        <slot></slot>
                        <h2>Pages</h2>
                        <nav>
                            <app-iterator defer-hydration key="links"><!--lit-node 3-->
                                <template shadowroot="open"><!--lit-part--><!--lit-part YB3MsQxjjTE=-->
                                    <context-node defer-hydration part="item first"><!--lit-node 0-->
                                        <template shadowroot="open"><!--lit-part zLMK7b+qM6o=-->
                                            <script type="application/json">{
                                                "title": "Test page",
                                                "_id": "623ec1e8d85d6ddddeb42f13",
                                                "description": "Test page content 🙂",
                                                "content": "<h1><app-field key=\"title\"></app-field></h1><p><app-field key=\"description\"></app-field></p><simple-counter></simple-counter>\n",
                                                "imports": {
                                                    "simple-counter": "@svalit/simple-counter"
                                                },
                                                "href": "/test"
                                            }</script>
                                            <slot></slot><!--/lit-part--></template>
                                        <!--lit-part 9zZ5DBIvBUQ=-->
                                        <app-link defer-hydration><!--lit-node 0-->
                                            <template shadowroot="open">
                                                <style>
                                                    a {
                                                        color: inherit;
                                                    }
                                                </style><!--lit-part 9lcK88EIGcM=--><a href="/test"><!--lit-node 0-->
                                                <slot><!--lit-part-->Test page<!--/lit-part--></slot>
                                            </a><!--/lit-part--></template>
                                        </app-link>
                                        <!--/lit-part-->
                                    </context-node><!--/lit-part--><!--lit-part YB3MsQxjjTE=-->
                                    <context-node defer-hydration part="item "><!--lit-node 0-->
                                        <template shadowroot="open"><!--lit-part 2Gv/aYdWw/s=-->
                                            <script type="application/json">{
                                                "title": "Index page",
                                                "_id": "623ecff0d85d6ddddeb42f14",
                                                "description": "Index root page 🌚",
                                                "content": "<h1><app-field key=\"title\"></app-field></h1><p><app-field key=\"description\"></app-field></p>",
                                                "href": "/index"
                                            }</script>
                                            <slot></slot><!--/lit-part--></template>
                                        <!--lit-part 9zZ5DBIvBUQ=-->
                                        <app-link defer-hydration><!--lit-node 0-->
                                            <template shadowroot="open">
                                                <style>
                                                    a {
                                                        color: inherit;
                                                    }
                                                </style><!--lit-part 9lcK88EIGcM=--><a href="/index"><!--lit-node 0-->
                                                <slot><!--lit-part-->Index page<!--/lit-part--></slot>
                                            </a><!--/lit-part--></template>
                                        </app-link>
                                        <!--/lit-part-->
                                    </context-node><!--/lit-part--><!--lit-part YB3MsQxjjTE=-->
                                    <context-node defer-hydration part="item last"><!--lit-node 0-->
                                        <template shadowroot="open"><!--lit-part z0Oex4z9mWQ=-->
                                            <script type="application/json">{
                                                "title": "Link",
                                                "_id": "6247277bd94c9905be5fa184",
                                                "href": "/demo"
                                            }</script>
                                            <slot></slot><!--/lit-part--></template>
                                        <!--lit-part 9zZ5DBIvBUQ=-->
                                        <app-link defer-hydration><!--lit-node 0-->
                                            <template shadowroot="open">
                                                <style>
                                                    a {
                                                        color: inherit;
                                                    }
                                                </style><!--lit-part 9lcK88EIGcM=--><a href="/demo"><!--lit-node 0-->
                                                <slot><!--lit-part-->Link<!--/lit-part--></slot>
                                            </a><!--/lit-part--></template>
                                        </app-link>
                                        <!--/lit-part-->
                                    </context-node><!--/lit-part--><!--/lit-part--></template>
                            </app-iterator>
                        </nav><!--/lit-part--></template>
                    <h1>
                        <app-field defer-hydration key="title"><!--lit-node 2-->
                            <template shadowroot="open"><!--lit-part-->Index page<!--/lit-part--></template>
                        </app-field>
                    </h1>
                    <p>
                        <app-field defer-hydration key="description"><!--lit-node 4-->
                            <template shadowroot="open"><!--lit-part-->Index root page 🌚<!--/lit-part--></template>
                        </app-field>
                    </p>
                </app-context><!--/lit-part--></main>
            <import-test
                    defer-hydration><!--lit-node 2-->
                <template shadowroot="open"><!--lit-part FsDhKz/B17w=-->
                    <p>
                        <marquee direction="left" width="300px"><!--lit-part-->This component loaded dynamically ! 🔥
                            <!--/lit-part--></marquee>
                    </p><!--/lit-part--></template>
            </import-test><!--/lit-part-->
        </context-node><!--/lit-part--></template>
</app-page><!--/lit-part-->
<template id="404"><h1>404 — Страница не найдена</h1>
    <p>Вы можете вернуться на
        <app-link href="/">главную</app-link>
    </p>
</template>
<template id="link">
    <app-link></app-link>
</template>
<script>window.imports = ["/components/import-test.mjs", "fetched-list"]</script>
<script>window.env = ["development", "browser", "module"]</script>
<script>window.page = {"title": "Index page", "url": "http://localhost/", "status": 200}</script>
<script>window.cache = {
    "{\"collection\":\"pages\",\"method\":\"findOne\",\"query\":{\"args\":[{\"path\":\"index\"}]}}": {
        "_id": "623ecff0d85d6ddddeb42f14",
        "path": "index",
        "title": "Index page",
        "description": "Index root page 🌚",
        "content": "<h1><app-field key=\"title\"></app-field></h1><p><app-field key=\"description\"></app-field></p>"
    },
    "{\"collection\":\"pages\",\"method\":\"find\",\"query\":{\"chain\":\"toArray\",\"args\":[]}}": [{
        "_id": "623ec1e8d85d6ddddeb42f13",
        "path": "test",
        "title": "Test page",
        "description": "Test page content 🙂",
        "content": "<h1><app-field key=\"title\"></app-field></h1><p><app-field key=\"description\"></app-field></p><simple-counter></simple-counter>\n",
        "imports": {"simple-counter": "@svalit/simple-counter"}
    }, {
        "_id": "623ecff0d85d6ddddeb42f14",
        "path": "index",
        "title": "Index page",
        "description": "Index root page 🌚",
        "content": "<h1><app-field key=\"title\"></app-field></h1><p><app-field key=\"description\"></app-field></p>"
    }, {"_id": "6247277bd94c9905be5fa184", "path": "demo"}]
}</script>
<script type="esms-options">{"shimMode": true}</script>
<script defer type="module-shim">
    import 'lit/experimental-hydrate-support.js'
    import {hydrateShadowRoots} from '@webcomponents/template-shadowroot'

    if (!HTMLTemplateElement.prototype.hasOwnProperty('shadowRoot')) {
        hydrateShadowRoots(document.body)
    }

    import('#lib/loader.mjs').then(({syncImport}) => Promise.all(window.imports.map((url) => syncImport(url)))).then(() => {
        import('#root/components/app-page.mjs') // TODO: Not importable when shim
    })

</script>

<script defer type="module-shim">import '#root/components/import-test.mjs';</script>
<script defer type="module-shim">import 'fetched-list';</script>
</body>
</html>
