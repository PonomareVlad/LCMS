<script defer type="module">
    import 'lit/experimental-hydrate-support.js'
    import {hydrateShadowRoots} from '@webcomponents/template-shadowroot/template-shadowroot.js'

    if (!HTMLTemplateElement.prototype.hasOwnProperty('shadowRoot')) {
        hydrateShadowRoots(document.body)
    }

    import('/lib/loader.mjs').then(({syncImport}) => Promise.all(window.imports.map((url) => syncImport(url)))).then(() => {
        import('/components/app-page.mjs') // TODO: Not importable when shim
    })
</script>
