<script type="esms-options">{"shimMode": true}</script>
<script defer type="module">
    import 'lit/experimental-hydrate-support.js'
    import {hydrateShadowRoots} from '@webcomponents/template-shadowroot'

    if (!HTMLTemplateElement.prototype.hasOwnProperty('shadowRoot')) {
        hydrateShadowRoots(document.body)
    }

    import('svalit/loader.mjs').then(({syncImport}) => Promise.all(window.imports.map((url) => syncImport(url)))).then(() => {
        import('#root/components/app-page.mjs') // TODO: Not importable when shim
    })
</script>
